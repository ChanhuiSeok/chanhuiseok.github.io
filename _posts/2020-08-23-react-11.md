---
title: "[React] ë¦¬ì•¡íŠ¸ Hooks (2) - useReducer"
date: 2020-08-23 20:30:00 +0800
categories: [1.Studying, React]
tags: [react, JSX, Hooks]
---

------



##  **ë¦¬ì•¡íŠ¸ Hooks(2) - useReducer**

------

* **ğŸš© useReducer**

> í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ í˜„ì¬ ìƒíƒœ, ê·¸ë¦¬ê³  ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ì •ë³´ë¥¼ ë‹´ì€ action ê°’ì„ ì „ë‹¬ë°›ê³  ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜

------



### **â˜ 1 | useReducer í•¨ìˆ˜ì˜ ê¸°ë³¸ì ì¸ ì‚¬ìš© ì˜ˆì‹œ**

```jsx
import React, {useReducer} from 'react';

function reducer(state, action){
  //actionì˜ íƒ€ì…ì— ë”°ë¥¸ ì‘ì—… ìˆ˜í–‰
  switch(action.type){
    case 'INCREMENT':
      return { value: state.value + 1 };
    case 'DECREMENT':
      return { value: state.value - 1 };
    default:
      return state;
  }
}

const Counter = () => {
  const [state, dispatch] = useReducer(reducer, {value : 0})
  return (
    <div>
      <p>
        í˜„ì¬ ì¹´ìš´í„° ê°’ <b>{state.value}</b>
      </p>
      <button onClick={()=>dispatch({type:'INCREMENT'})}>+1</button>
      <button onClick={()=>dispatch({type:'DECREMENT'})}>-1</button>
    </div>
  );
};

export default Counter;
```

* useReducer í•¨ìˆ˜ëŠ” **ì²« ë²ˆì§¸ ì¸ìì— ë¦¬ë“€ì„œ í•¨ìˆ˜**ë¥¼ ë„£ìŠµë‹ˆë‹¤. ë‘ ë²ˆì§¸ ì¸ìì—ëŠ” **ë¦¬ë“€ì„œì˜ ê¸°ë³¸ ê°’**ì„ ë„£ìŠµë‹ˆë‹¤.
* `const [state, dispatch] = useReducer(reducer, {value : 0})` ì´ ë¶€ë¶„ì—ì„œ stateëŠ” í˜„ì¬ ê°€ë¦¬í‚¤ëŠ” ê²ƒì˜ ìƒíƒœ(ì—¬ê¸°ì„œëŠ” value)ë¥¼, **dispatchëŠ” ì•¡ì…˜ì„ ë°œìƒì‹œí‚¤ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜**í•œ ê²ƒì…ë‹ˆë‹¤.
* button onClick ë¶€ë¶„ì„ ë³´ë©´ **dispatch í•¨ìˆ˜ ë‚´ì— ì•¡ì…˜ ê°’ì„ ë„£ì–´ ì£¼ë©´ì„œ**, **reducer í•¨ìˆ˜ê°€ í˜¸ì¶œ**ë©ë‹ˆë‹¤.
* ì´ì²˜ëŸ¼ ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸ ë¡œì§(reducer í•¨ìˆ˜ê°€ ë§¡ì€ ë¶€ë¶„)ì„ ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ìœ¼ë¡œ ë¹¼ë‚¼ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.



------

### **â˜ 2 | useReducer í•¨ìˆ˜ë¡œ ì¸í’‹ ìƒíƒœ ê´€ë¦¬**

```jsx
import React, { useReducer } from 'react';

function reducer(state, action){
  return {
    ...state, // state ê°’ì„ ì—¬ê¸°ì— ë³µì‚¬í•˜ê³ ,
    [action.name]: action.value // ê°’ì„ ë®ì–´ì”Œìš´ë‹¤.
  };
}

const Info = () => {
  const [state, dispatch] = useReducer(reducer, {
    name: '',
    nickname: ''
  });
  
  const {name, nickname} = state;

  const onChange = e =>{
    dispatch(e.target);
  }

  return (
    <div>
      <div>
        <input name = "name" value={name} onChange={onChange}/>
        <input name = "nickname" value={nickname} onChange={onChange}/>
      </div>
      <div>
        <div>
          ì´ë¦„ : {name}
        </div>
        <div>
          ë‹‰ë„¤ì„ : {nickname}
        </div>
      </div>
    </div>
  );
};

export default Info;
```

* **useReducer**ì—ì„œ stateë¥¼ **name, nicknameìœ¼ë¡œ ì •ì˜**í•˜ì˜€ìŠµë‹ˆë‹¤.
* `const {name, nickname} = state` ì´ ë¶€ë¶„ì„ í†µí•´, ìœ„ì—ì„œ ì •ì˜í•œ state ê°’ì´ ê°ê° name, nicknameì— ë“¤ì–´ê°”ìŠµë‹ˆë‹¤. - ğŸ ê°ì²´ ë¹„êµ¬ì¡°í™” í• ë‹¹ ë¬¸ë²•
* ì‰½ê²Œ ë§í•´ **useReucerì˜ ì²« ë²ˆì§¸ ì¸ìì— ë“¤ì–´ê°„ ë¦¬ë“€ì„œ í•¨ìˆ˜ëŠ”, useStateì—ì„œ stateë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ì™€ í•˜ëŠ” ì—­í• ì´ ë¹„ìŠ·í•˜ë‹¤ê³  ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤.**
  * ë‹¨, useState ì—ì„œ stateë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ëŠ” ê·¸ state ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ, useReducer ì—ì„œ stateë¥¼ ë³€ê²½í•˜ëŠ” reducer í•¨ìˆ˜ëŠ” **ì¶”ê°€ì ìœ¼ë¡œ ê°€ê³µí•˜ì—¬ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜**í•˜ëŠ” ê²ƒì—ì„œ ê·¸ ë‚´ìš©ì˜ ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.
* ì´ì œ reducer í•¨ìˆ˜ë¥¼ ì •ì˜í•œ ë¶€ë¶„ì„ ë³´ê² ìŠµë‹ˆë‹¤.
  * **[action.name] : action.value**
    * **onChange í•¨ìˆ˜ì—ì„œ reducer í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ë¶€ë¶„**ì„ í™•ì¸í•´ ë³´ë©´ **action ê°’ì„ e.target ìœ¼ë¡œ ì§€ì •**í–ˆìœ¼ë¯€ë¡œ, action.name ì€ e.target.name ê³¼ ê°™ê³ , action.valueëŠ” e.target.valueì™€ ê°™ìŠµë‹ˆë‹¤.
    * e.target.name ì—¬ê¸°ì—ì„  í•´ë‹¹ inputì˜ nameì˜ ê°’ì„ ë§í•©ë‹ˆë‹¤.
    * e.target.valueëŠ” inputì˜ value ê°’ì„ ë§í•©ë‹ˆë‹¤.
    * ì´ë¡œì¨ stateì˜ ê°’ì„ value ë¡œ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

------



* useReducer í•¨ìˆ˜ì˜ ì•¡ì…˜ì€ ì–´ë–¤ ê°’ë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì¦‰, **ì¸ìë¡œ ì•¡ì…˜ ê°’ì„ ë„£ëŠ” dispatch í•¨ìˆ˜**ì— **e.target** ë¥¼ ì•¡ì…˜ ê°’ìœ¼ë¡œ ë„£ì—ˆìŠµë‹ˆë‹¤. ì´ë²¤íŠ¸ ê°ì²´ê°€ ì§€ë‹ˆê³  ìˆëŠ” e.target ê°’ ìì²´ë¥¼ ë„£ì€ ê²ƒì…ë‹ˆë‹¤.

* input ì´ ì—¬ëŸ¬ê°œì˜€ì„ ê²½ìš° ê¸°ì¡´ì—ëŠ” useStateë¥¼ ì—¬ëŸ¬ë²ˆ ì‚¬ìš©í–ˆê³ , ê°ê° ë‹¤ë¥¸ **state setter í•¨ìˆ˜**ë„ ì—¬ëŸ¬ ê°œê°€ ë§Œë“¤ì–´ì§€ê²Œ ë©ë‹ˆë‹¤. ë”°ë¼ì„œ ê·¸ì— ë”°ë¥¸ onChange í•¸ë“¤ë§ í•¨ìˆ˜ë„ ì—¬ëŸ¬ ê°œ ì¡´ì¬í–ˆì—ˆìŠµë‹ˆë‹¤.

  * **[ì˜ˆ]** name, nickname stateë¥¼ ì •ì˜í•˜ê³  setName, setNickname ì´ë¼ëŠ” í•¨ìˆ˜ë„ ì •ì˜í•¨

  * ```jsx
    const [name, setName] = useState('');
    const [nickname, setNickname] = useState('');
    
    const onChangeName = e => {
        setName(e.target.value);
    };
    const onChangeNickname = e => {
        setNickname(e.target.value);
    }
    ```

* ê·¸ëŸ¬ë‚˜ useReducerë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì¸í’‹ì˜ ê°¯ìˆ˜ê°€ ê³„ì† ë§ì•„ì§€ë”ë¼ë„ useStateë¥¼ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì´ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

------


---
title: '[React] ë¦¬ì•¡íŠ¸ í˜ì´ì§€ë„¤ì´ì…˜(pagination) êµ¬í˜„í•˜ê¸° (1)'
date: 2020-11-02 08:30:00 +0800
categories: [1.Studying, React]
tags: [react, JSX, Hooks, pagination, í˜ì´ì§€ë„¤ì´ì…˜]
---

------



##  **ë¦¬ì•¡íŠ¸ í˜ì´ì§€ë„¤ì´ì…˜ êµ¬í˜„í•˜ê¸°(React pagination) (1)**

------

### **ğŸš© í˜ì´ì§€ë„¤ì´ì…˜**

ì›¹ í˜ì´ì§€ì—ì„œ ê²Œì‹œíŒ ë°‘ì— ë³´ë©´ 1, 2, 3, 4,... ë¡œ í˜ì´ì§€ ë²ˆí˜¸ë¥¼ ë§¤ê²¨ ë†“ì€ ëª¨ìŠµì„ ì•„ì£¼ í”í•˜ê²Œ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![](https://i.imgur.com/Rf8qW94.png)

> (ì¶œì²˜ : ë‹¤ìŒ ë‰´ìŠ¤ ê²Œì‹œíŒ)

ì´ëŸ¬í•œ í˜ì´ì§€ë„¤ì´ì…˜ì„ React hookì¸ **useState, useEffect**ì™€ ìë°”ìŠ¤í¬ë¦½íŠ¸ array ë©”ì†Œë“œì¸ **slice**ë¥¼ í™œìš©í•´ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

------

### **ğŸ“˜ 1. ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ ìƒì„±**

> ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ ê´€ë ¨ ì„¤ì • ë° ì´ˆê¸° ìƒì„±ë²• : [https://chanhuiseok.github.io/posts/react-2/](https://chanhuiseok.github.io/posts/react-2/)

ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```bash
$ yarn create react-app myDirName
```

ìƒì„± í›„ í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.

```bash
$ cd myDirName
```

------

### **ğŸ“˜ 2. ì—°ìŠµìš© ë°ì´í„° ê°€ì ¸ì˜¤ê¸°**

ì¼ë‹¨ ë¶ˆí•„ìš”í•œ íŒŒì¼ë“¤ì€ ë¨¼ì € ì‚­ì œí•´ ë³´ê² ìŠµë‹ˆë‹¤. ìƒì„±í•œ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì—ì„œ ì•„ë˜ íŒŒì¼ë“¤ì„ ì‚­ì œí•´ ì£¼ì„¸ìš”.

![](https://i.imgur.com/iqXGJLp.png)

> App.test.js, reportWebVitals.js, setupTests.js



ì˜¨ë¼ì¸ì—ì„œ ë³„ë„ì˜ í‚¤ê°’ì´ ì—†ì–´ë„ **ì—°ìŠµìš©ìœ¼ë¡œ REST APIë¥¼ ì œê³µí•˜ëŠ” ì‚¬ì´íŠ¸**ê°€ ë§ìŠµë‹ˆë‹¤.

ê·¸ ì¤‘ì—ì„œ ì €ëŠ” [https://jsonplaceholder.typicode.com/](https://jsonplaceholder.typicode.com/) ì‚¬ì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.

**ì‚¬ìš©í•  ì£¼ì†Œ** : [https://jsonplaceholder.typicode.com/posts](https://jsonplaceholder.typicode.com/posts)

![](https://i.imgur.com/AKMy7B8.png)

ì´ ì£¼ì†Œì— ì ‘ì†í•´ ë³´ë©´ ìœ„ì™€ ê°™ì´ **100ê°œì˜ ë°ì´í„°**ë¥¼ json í˜•íƒœë¡œ ë°›ì•„ì˜´ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì œ App.jsì— ë“¤ì–´ê°€ì„œ ì½”ë“œë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤. ê·¸ ì „ì—, axiosì™€ styled-components ë¨¼ì € ì„¤ì¹˜í•©ë‹ˆë‹¤.

```bash
$ yarn add axios
$ yarn add styled-components
```

**axios**ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ Promiseë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ **ë¹„ë™ê¸° ì²˜ë¦¬**ë¥¼ ë„ì™€ì¤ë‹ˆë‹¤. axiosëŠ” ë°›ì•„ì˜¨ json ë°ì´í„°ë¥¼ ì•Œì•„ì„œ ë³€í™˜í•´ ì£¼ê¸°ë„ í•˜ê³ , í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§•ì—ì„œë„ íš¨ê³¼ì ì´ì–´ì„œ ë§ì´ ì“°ì¸ë‹¤ê³  í•©ë‹ˆë‹¤.

**styled-components**ëŠ” ë¦¬ì•¡íŠ¸ì—ì„œ CSS-in-JSë¥¼ ì‹¤í˜„í•˜ê²Œ í•´ ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œë„ ê°„ë‹¨í•˜ê²Œ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ì˜ ë””ìì¸ì„ ì„¤ì •í•˜ê¸° ìœ„í•´ ì„¤ì¹˜í•˜ì˜€ìŠµë‹ˆë‹¤.

------

ì´ì œ **App.js** ì½”ë“œë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤. ë°ì´í„°ë¥¼ ì˜ ë°›ì•„ì˜¤ëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.

ì•„ë˜ì—ì„œ ì‚¬ìš©í•œ hook ë° ê°ì¢… í•¨ìˆ˜ë“¤ì— ëŒ€í•œ ì„¤ëª…ì€ í•˜ë‹¨ì— ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

> **useState hook ì•Œì•„ë³´ê¸°** : [https://chanhuiseok.github.io/posts/react-6/](https://chanhuiseok.github.io/posts/react-6/)

```jsx
import './App.css';
import React, { useState, useEffect } from 'react';
import axios from 'axios';

function App() {
  const [posts, setPosts] = useState([]);
  const [loading, setLoading] = useState(false);
  const [currentPage, setCurrentPage] = useState(1);
  const [postsPerPage, setPostsPerPage] = useState(10);

  useEffect( () => {
    async function fetchData() {
      setLoading(true);
      const response = await axios.get('https://jsonplaceholder.typicode.com/posts');
      setPosts(response.data);
      setLoading(false);
    }
    fetchData();
  },[]);

  console.log(posts);

  return (
    <div className="App">
      
    </div>
  );
}

export default App;

```

* Appì€ **í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸**ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, useStateë‚˜ useEffectì™€ ê°™ì€ hookì„ ì‚¬ìš©í•œ ê²ƒì…ë‹ˆë‹¤.
* (6~9í–‰) posts, loading, currentPage, postsPerPage stateë¥¼ ì§€ì •í•˜ì˜€ìŠµë‹ˆë‹¤. posts stateì—ëŠ” ì‹¤ì œ json ë°ì´í„°ë“¤ì´ array í˜•íƒœë¡œ ë“¤ì–´ì˜¤ë¯€ë¡œ ì´ˆê¸°ê°’ì„ ë°°ì—´ ë¦¬í„°ëŸ´(`[]`)ë¡œ ë‘ì—ˆìŠµë‹ˆë‹¤.
* (11~18í–‰) useEffect hookì„ ì‘ì„±í•œ ëª¨ìŠµì…ë‹ˆë‹¤.
  * (12~16í–‰) async, await, axiosë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ëª¨ìŠµì…ë‹ˆë‹¤. useEffect hookì€ íŠ¹ì •í•œ ì‘ì—…ì„ ë Œë”ë§(ë§ˆìš´íŠ¸)í•  ë•Œë§ˆë‹¤ ì‚¬ìš©í•  ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤. **ì²« ë²ˆì§¸ ì¸ìì— ì‘ì„±í•œ í•¨ìˆ˜**ë¥¼ ì‘ì—…ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤. ë‘ ë²ˆì§¸ ì¸ìì— `[]` ë¥¼ ë‘ì—ˆëŠ”ë°, ì´ë ‡ê²Œ í•˜ë©´ **ì»´í¬ë„ŒíŠ¸ê°€ ë§¨ ì²˜ìŒ ë Œë”ë§(ë§ˆìš´íŠ¸)ë  ë•Œë§Œ ì •ì˜í•œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰**í•˜ê³ , ì—…ë°ì´íŠ¸ ë  ë•ŒëŠ” ì‹¤í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  * ìµëª… í•¨ìˆ˜ ì•ì— asyncë¥¼ ë¶™ì—¬ì„œ ì´ ë¶€ë¶„ì€ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í•˜ëŠ” ê³³ì´ë¼ê³  ì•Œë¦½ë‹ˆë‹¤. ë°‘ì—ì„œ axios.get ì´ ë°˜í™˜í•˜ëŠ” ê²ƒì€ **Promise ê°ì²´**ì¸ë°ìš”, **ê·¸ ì•ì— awaitë¥¼ ë¶™ì—¬ì„œ** í”„ë¡œë¯¸ìŠ¤ê°€ ë°˜í™˜ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.
  * **ì´ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ë‹¤ë¥¸ ì¼ë“¤ì„ ì²˜ë¦¬**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë„ì™€ì£¼ëŠ” ë¬¸ë²•ì´ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤.
  * ì°¸ê³ ë¡œ, **awaitì€ ë°˜ë“œì‹œ asyncë¡œ ì •ì˜í•œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜** ìˆìŠµë‹ˆë‹¤.
  * async, await êµ¬ë¬¸ì€ promise ê°ì²´ê°€ `.then`ìœ¼ë¡œ ì½œë°±ì„ ì²˜ë¦¬í•˜ë˜ ë¶€ë¶„ì„ ì¢€ ë” ê¹”ë”í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•´ ì¤ë‹ˆë‹¤.
  * ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ setPosts ë¥¼ í†µí•´ posts stateì— ë„£ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.



ë¸Œë¼ìš°ì € ì½˜ì†”ì— ë°ì´í„°ê°€ ëœ¨ëŠ”ì§€ í™•ì¸í•´ ë³¼ê¹Œìš”?

![](https://i.imgur.com/x4bIwYv.png)

ì´ë ‡ê²Œ 100ê°œì˜ í¬ìŠ¤íŠ¸ë¥¼ ì •ìƒì ìœ¼ë¡œ ë°›ì•„ì˜¨ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

------

### **ğŸ“˜ 3. í˜ì´ì§€ì— ë‚´ìš©ì„ í‘œì‹œí•˜ê¸°**

ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ ì½˜ì†”ì´ ì•„ë‹ˆë¼ ì›¹ í˜ì´ì§€ì— í‘œì‹œí•´ ë³´ë ¤ê³  í•©ë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ì—ì„œ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ì—°ìŠµí•˜ê¸° ìœ„í•´, ë°ì´í„°ê°€ í‘œì‹œë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ `Posts`ë¡œ ì •ì˜í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.

ğŸ“œ **Posts.js ìƒì„± ë° ì‘ì„±**

> **React map í•¨ìˆ˜ ì‚¬ìš©ë²•** : [https://chanhuiseok.github.io/posts/react-8/](https://chanhuiseok.github.io/posts/react-8/)

```jsx
import React from 'react';

const Posts = ({ posts, loading }) => {
  return (
    <>
  { loading &&
    <div> loading... </div>
  }
  <ul>
    { posts.map(post=>(
      <li key={post.id}>
        {post.title}
      </li>
    ))}
  </ul>
  </>
  );
};
export default Posts;
```

* Posts ì»´í¬ë„ŒíŠ¸ëŠ” ì¸ìë¡œ posts, loadingì„ ë„˜ê²¨ë°›ìŠµë‹ˆë‹¤.
* postsëŠ” ë°ì´í„°ì´ê³ , loadingì€ ë°ì´í„°ê°€ ì•„ì§ ë¡œë”©ë˜ì§€ ì•Šì•˜ì„ ê²½ìš°ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
  * { loading && ... } ë¶€ë¶„ì€, **loading ê°’ì´ trueì¼ ë•Œ** && ë‹¤ìŒì˜ ê²ƒì„ í‘œì‹œí•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.
* ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ map í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ ë°ì´í„°ë“¤ì„ í‘œì‹œí•©ë‹ˆë‹¤. posts ë¼ëŠ” ë°°ì—´ì— ë‹´ê¸´ ê°’ì„ í•˜ë‚˜ì”© `post`ë¡œ ë¹¼ì™€ì„œ `<li>` ë¡œ ë§Œë“¤ì–´ ë³´ì—¬ ì¤ë‹ˆë‹¤.
* ì´ ë•Œ map í•¨ìˆ˜ë¡œ ì—¬ëŸ¬ ìš”ì†Œë¥¼ ê·¸ë¦´ ë•ŒëŠ”, í•´ë‹¹ ìš”ì†Œì—  **key ê°’ì„ ì‚¬ìš©**í•´ì•¼ í•©ë‹ˆë‹¤. ë°ì´í„°ì—ì„œ í‚¤ë¡œ êµ¬ë¶„ì´ ë  ë§Œí•œ ê°’ì€ id ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ê·¸ë ¤ì£¼ëŠ” ìš”ì†Œì— keyë¥¼ `{post.id}` ê°’ìœ¼ë¡œ ì „ë‹¬í•œ ê²ƒì…ë‹ˆë‹¤.



ğŸ“œ **App.js ìˆ˜ì •**

ìœ„ì—ì„œ ë§Œë“  Posts ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. **Posts ë¥¼ import í•˜ê³ , returnë¬¸ ì•ˆì—ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.**

```jsx
import './App.css';
import React, { useState, useEffect } from 'react';
import axios from 'axios';
import Posts from './Posts'

function App() {
  const [posts, setPosts] = useState([]);
  const [loading, setLoading] = useState(false);
  const [currentPage, setCurrentPage] = useState(1);
  const [postsPerPage, setPostsPerPage] = useState(10);

  useEffect( async() => {
    setLoading(true);
    const response = await axios.get('https://jsonplaceholder.typicode.com/posts');
    setPosts(response.data);
    setLoading(false);
  },[]);

  console.log(posts);

  return (
    <div className="App">
      <Posts posts={posts} loading={loading}></Posts>
    </div>
  );
}

export default App;
```

ë‹¤ì‹œ ì‹¤í–‰í•´ ë³´ë©´ ì›¹ í˜ì´ì§€ì— ì•„ë˜ì™€ ê°™ì´ ë°ì´í„°ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.

![](https://i.imgur.com/w7gaYI8.png)

ì´ì œ ì´ ë°ì´í„°ë“¤ì„ ì •í•´ì§„ í˜ì´ì§€ë‹¨ìœ„ì— ë§ê²Œ í˜ì´ì§€ë„¤ì´ì…˜ì„ í•˜ëŠ” ì‘ì—…ë§Œ ë‚¨ì•˜ìŠµë‹ˆë‹¤.

ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ ì´ì–´ì„œ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤!

------


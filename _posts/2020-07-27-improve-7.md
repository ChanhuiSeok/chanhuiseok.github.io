---

title: "[μ•κ³ λ¦¬μ¦ νΈλ μ΄λ‹] 6μ¥ - μ λ‹μ¨-νμΈλ“ μλ£κµ¬μ΅°"
date: 2020-07-27 17:30:00 +0800
categories: [1.Studying, μ•κ³ λ¦¬μ¦ νΈλ μ΄λ‹]
tags: [algorithm, C++, μ λ‹μ¨νμΈλ“, disjoint-set]
---

------



## **μ λ‹μ¨-νμΈλ“ μλ£κµ¬μ΅°**

------

### **π§­ μ λ‹μ¨-νμΈλ“ μλ£ κµ¬μ΅°(Union-find structure)λ€?**

* μ§‘ν•©μ λ¬¶μμ„ κ΄€λ¦¬ν•λ” κµ¬μ΅°μΈλ°, μ—¬κΈ°μ„ λ§ν•λ” μ§‘ν•©μ€ **μ„λ΅μ† μ§‘ν•©(disjoint set)μ…λ‹λ‹¤. μ¦‰, ν•λ‚μ μ›μ†κ°€ λ‘ μ΄μƒμ μ§‘ν•©μ— μ†ν•μ§€ μ•μµλ‹λ‹¤.**
* μ΄ μ§‘ν•©μ„ κ°€μ§„ μλ£κµ¬μ΅°μ— λ€ν•΄ **union** μ—°μ‚°μ€ λ‘ μ§‘ν•©μ„ ν•©μΉλ” μ—°μ‚°μ΄κ³ , **find** μ—°μ‚°μ€ μ£Όμ–΄μ§„ μ›μ†κ°€ ν¬ν•¨λ μ§‘ν•©μ λ€ν‘―κ°’(λ¶€λ¨ λ…Έλ“)μ„ κµ¬ν•λ” μ—°μ‚°μ…λ‹λ‹¤. O(log n) μ‹κ°„μ— λ™μ‘ν•λ‹¤κ³  μ•λ ¤μ Έ μμµλ‹λ‹¤.

![](https://i.imgur.com/QClPe9D.png)

> λ€ν‘―κ°’ 4μ™€ λ€ν‘―κ°’ 2λ¥Ό κ°€μ§€λ” κ°κ°μ disjoint set

![](https://i.imgur.com/1tr43yL.png)

> λ€ν‘―κ°’ 4μ μ§‘ν•©μ„ λ€ν‘―κ°’ 2μ μ§‘ν•©μΌλ΅ ν•©μ³¤μ„ λ•μ μƒν™©

* λ‘ μ§‘ν•©μ„ ν•©μΉ  λ•, μ›μ†κ°€ λ” μ μ€ μ§‘ν•©μ λ€ν‘―κ°’μ„ λ§μ€ μ§‘ν•©μ λ€ν‘―κ°’μΌλ΅ μ—°κ²°ν•λ” μ „λµμ„ λ³΄ν†µ μ±„νƒν•©λ‹λ‹¤.

------

### **π§­ μ λ‹μ¨-νμΈλ“ μλ£ κµ¬μ΅° κµ¬ν„ν•κΈ°**

μ΄ μλ£κµ¬μ΅°λ” λ°°μ—΄μ„ μ‚¬μ©ν•μ—¬ νΈν•κ² κµ¬ν„ν•  μ μμµλ‹λ‹¤.

* link λ°°μ—΄ : κ° μ›μ†μ— λ€ν•΄ κ²½λ΅μƒμ λ‹¤μ μ›μ†λ¥Ό μ €μ¥ν•λ” λ°°μ—΄. μ›μ†κ°€ λ€ν‘―κ°’μΈ κ²½μ°, λ°°μ—΄μ— μ €μ¥λλ” κ°’μ€ μκΈ° μμ‹ μ΄ λ©λ‹λ‹¤.
* size λ°°μ—΄ : κ° λ€ν‘―κ°’μ— λ€ν•΄ μ§‘ν•©μ ν¬κΈ°λ¥Ό μ €μ¥ν•λ” λ°°μ—΄.

λ§¨ μ²μμ—λ” κ° μ›μ†κ°€ λ¨λ‘ λ³„κ°μ μ§‘ν•©μ΄λΌκ³  κ°€μ •ν•κ³  λ‹¤μκ³Ό κ°™μ΄ μ΄κΈ°ν™”ν•©λ‹λ‹¤.

```c++
for(int i = 1; i<=n; i++) link[i] = i;
for(int i = 1; i<=n; i++) size[i] = i;
```

* **find ν•¨μ** : μ›μ† xμ λ€ν‘―κ°’μ„ λ°ν™ν•λ” ν•¨μ. xμ—μ„ μ‹μ‘ν•λ” κ²½λ΅λ¥Ό μ­‰ λ”°λΌκ°€λ©΄ λ©λ‹λ‹¤.

```c++
int find(int x) {
    while (x!= link[x])
        x = link[x];
    return x;
}
```

* **same ν•¨μ** : λ‘ μ›μ† a, bκ°€ κ°™μ€ μ§‘ν•©μ— μ†ν•λ”μ§€ ν™•μΈν•λ” ν•¨μ. find ν•¨μλ¥Ό ν™μ©ν•©λ‹λ‹¤.

```c
bool same(int a, int b){
    return find(a) == find(b);
}
```

* **unite ν•¨μ** : μ›μ† aμ™€ bκ°€ μ†ν• μ§‘ν•©μ„ ν•©μΉλ” ν•¨μλ΅, μ΄ λ‘ μ›μ† a,b λ” λ‹¤λ¥Έ μ§‘ν•©μ— μ†ν•΄ μμ–΄μ•Ό ν•©μΉ  μ μμµλ‹λ‹¤. μ΄ ν•¨μμ—μ„λ” λ¨Όμ € λ‘ μ§‘ν•©μ λ€ν‘―κ°’μ„ κµ¬ν• λ‹¤μ, μ‘μ€ μ‚¬μ΄μ¦μ μ§‘ν•©μ λ€ν‘―κ°’μ„ ν° μ§‘ν•©μ λ€ν‘―κ°’μΌλ΅ μ—°κ²°ν•©λ‹λ‹¤.

```c
void unite(int a, int b){
    a = find(a);
    b = find(b);
    if (size[a] < size[b])
        swap(a, b);
    size[a] += size[b];
    link[b] = a;
}
```

* **κ²½λ΅ μ••μ¶•** : find μ—°μ‚°μ„ κµ¬ν„ν•  λ•, ν• λ² find μ—°μ‚°μ„ μ‹¤ν–‰ μ‹ κ²½λ΅μƒμ λ¨λ“  μ›μ†κ°€ λ€ν‘―κ°’μ„ λ°”λ΅ κ°€λ¦¬ν‚¤λ„λ΅ ν•  μ μλ” κµ¬ν„ λ°©λ²•μ„ λ§ν•©λ‹λ‹¤. μ¶”ν›„μ— νƒμƒ‰ μ‹κ°„ λ³µμ΅λ„λ¥Ό μ¤„μΌ μ μλ” ν¨κ³Όμ μΈ λ°©λ²•μ…λ‹λ‹¤.

```c
int find(int x){
    if (x == link[x]) return x;
    return link[x] = find(link[x]);
}
```

------

**Disjoint-set λ¬Έμ **

* λ°±μ¤€ : 4195λ² - μΉκµ¬ λ„¤νΈμ›ν¬ ([https://www.acmicpc.net/problem/4195](https://www.acmicpc.net/problem/4195))

